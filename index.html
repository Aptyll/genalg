<!DOCTYPE html><html><head><style>body{margin:0;background:#1a1a1a;color:#fff;font-family:monospace}#gameContainer{display:flex;flex-direction:column;align-items:center;height:100vh;padding-top:20px}#timer,#resources{position:fixed;top:20px;font-size:24px}#timer{left:20px}#resources{right:20px}canvas{border:2px solid #333}</style></head><body><div id="timer">Turn: 0</div><div id="resources">Army Count: 0</div><div id="gameContainer"><canvas id="gameCanvas"></canvas></div><script>const canvas=document.getElementById("gameCanvas"),ctx=canvas.getContext("2d"),timerDisplay=document.getElementById("timer"),resDisplay=document.getElementById("resources"),GRID_SIZE=20,CELL_SIZE=25;let turnCount=0,armyCount=0,selectedTile={x:0,y:0};canvas.width=GRID_SIZE*CELL_SIZE,canvas.height=GRID_SIZE*CELL_SIZE;const tileOwnership=[],tileCount=[];for(let i=0;i<GRID_SIZE;i++){tileOwnership[i]=[];tileCount[i]=[];for(let j=0;j<GRID_SIZE;j++)tileOwnership[i][j]=null,tileCount[i][j]=0;}const player={color:"#2196F3"},moveQueue=[];tileOwnership[selectedTile.y][selectedTile.x]='player';function drawGrid(){for(let y=0;y<GRID_SIZE;y++)for(let x=0;x<GRID_SIZE;x++)if(tileOwnership[y][x]==='player'){ctx.fillStyle=player.color;ctx.fillRect(x*CELL_SIZE,y*CELL_SIZE,CELL_SIZE,CELL_SIZE);ctx.fillStyle="#fff";ctx.textAlign="center";ctx.textBaseline="middle";ctx.fillText(tileCount[y][x],x*CELL_SIZE+CELL_SIZE/2,y*CELL_SIZE+CELL_SIZE/2);}ctx.strokeStyle="#333";for(let i=0;i<=GRID_SIZE;i){ctx.beginPath();ctx.moveTo(i*CELL_SIZE,0);ctx.lineTo(i*CELL_SIZE,canvas.height);ctx.stroke();ctx.beginPath();ctx.moveTo(0,i*CELL_SIZE);ctx.lineTo(canvas.width,i*CELL_SIZE);ctx.stroke();}}function drawPlayer(){if(selectedTile){ctx.strokeStyle="#fff";ctx.lineWidth=2;ctx.strokeRect(selectedTile.x*CELL_SIZE,selectedTile.y*CELL_SIZE,CELL_SIZE,CELL_SIZE);}}function drawPath(){if(!moveQueue.length)return;ctx.beginPath();ctx.setLineDash([5,5]);ctx.strokeStyle="rgba(255,255,255,0.5)";ctx.lineWidth=2;let x=selectedTile.x,y=selectedTile.y;ctx.moveTo(x*CELL_SIZE+CELL_SIZE/2,y*CELL_SIZE+CELL_SIZE/2);moveQueue.forEach(m=>{if(m==="up")y--;else if(m==="down")y++;else if(m==="left")x--;else if(m==="right")x++;ctx.lineTo(x*CELL_SIZE+CELL_SIZE/2,y*CELL_SIZE+CELL_SIZE/2)});ctx.stroke();ctx.setLineDash([]);}function update(){ctx.clearRect(0,0,canvas.width,canvas.height);drawGrid();drawPlayer();drawPath();}function executeNextMove(){if(!moveQueue.length)return;const move=moveQueue.shift();switch(move){case "up":if(selectedTile.y>0)selectedTile.y--;break;case "down":if(selectedTile.y<GRID_SIZE-1)selectedTile.y++;break;case "left":if(selectedTile.x>0)selectedTile.x--;break;case "right":if(selectedTile.x<GRID_SIZE-1)selectedTile.x++;break;}tileOwnership[selectedTile.y][selectedTile.x]='player';update();}function updateTimer(){turnCount++,timerDisplay.textContent=`Turn: ${turnCount}`;if(turnCount%25==0)incrementTileCounters();armyCount=totalArmyCount();resDisplay.textContent=`Army Count: ${armyCount}`;executeNextMove();}function totalArmyCount(){let count=0;for(let y=0;y<GRID_SIZE;y++)for(let x=0;x<GRID_SIZE;x++)if(tileOwnership[y][x]==='player')count+=tileCount[y][x];return count;}function incrementTileCounters(){for(let y=0;y<GRID_SIZE;y++)for(let x=0;x<GRID_SIZE;x++)tileOwnership[y][x]==='player'&&tileCount[y][x]++;update();}function handleClick(e){const rect=canvas.getBoundingClientRect(),x=Math.floor((e.clientX-rect.left)/CELL_SIZE),y=Math.floor((e.clientY-rect.top)/CELL_SIZE);if(tileOwnership[y][x]==='player')selectedTile={x,y};update();}canvas.addEventListener("click",handleClick);document.addEventListener("keydown",e=>{let m=null;switch(e.key.toLowerCase()){case "w":case "arrowup":m="up";break;case "s":case "arrowdown":m="down";break;case "a":case "arrowleft":m="left";break;case "d":case "arrowright":m="right";break;case "q":moveQueue.length=0;break;case "e":moveQueue.pop();break;}if(m){let tempX=selectedTile.x,tempY=selectedTile.y;for(let move of moveQueue){if(move==="up")tempY--;else if(move==="down")tempY++;else if(move==="left")tempX--;else if(move==="right")tempX++;}if(m==="up")tempY--;else if(m==="down")tempY++;else if(m==="left")tempX--;else if(m==="right")tempX++;if(tempX>=0&&tempX<GRID_SIZE&&tempY>=0&&tempY<GRID_SIZE){moveQueue.push(m);update();}}});update(),setInterval(updateTimer,500);</script></body></html>
